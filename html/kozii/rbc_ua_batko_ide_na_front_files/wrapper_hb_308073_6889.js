window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],function(o,R){if(!(navigator&&navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("lighthouse"))){if(o.addEventListener("message",function(e){var i=e.data,t=e.source;if(!i||"adtHBvpaid"!==i.type)return;var n=i.key;function d(e){try{t.postMessage({type:"adtHBvpaid",key:"winner",winner:JSON.stringify(e)},"*")}catch(e){D.error("unable to send winner info to iframe",e.message)}}D.log("Message from iframe",i.type,i.key),"doYouHaveHB"===n?t.postMessage({type:"adtHBvpaid",key:"true"},"*"):"startAucs"===n&&(D.log("VPAID Getting winner for iframe"),E.getWinningBidByCode({divId:i.data.code,cb:function(e){e?(D.log("winner for iframe is ",e),d(e)):(D.log("starting auction for iframe",i.data),S.startAuction({adUnitId:i.data.adUnitId,code:i.data.code,sizes:i.data.sizes,onEnd:function(e){d(e)}}))}}))}),-1<location.href.indexOf("disable_hb=1")){var e=function(){};return e._startgpt=!0,R.cmd.unshift(e)}var i=Date,t=i.now,s=new function(){var d=null,p={},c={};o.IntersectionObserver&&(d=new IntersectionObserver(function(e){for(var i=0;i<e.length;i++){var t=e[i],n=t.target.id,d=t.isIntersecting&&.5<=t.intersectionRatio;if(d){c[n]=!0;var r=u[n];if(r)for(var a=0;a<r.length;a++){var o=r[a];clearTimeout(o.timeoutPtr),o.cb(!0),g(n,t.target)}delete u[n]}else delete c[n];var s=p[n];if(s)if(d)s.startVisibleAt=A(),clearInterval(s.intervalPtr),function(i,e){i.intervalPtr=setInterval(function(){var e=i.startVisibleAt;i.startVisibleAt=A(),i.onTimeUpdate(A()-e)},300)}(s);else if(clearInterval(s.intervalPtr),s.startVisibleAt){var l=s.startVisibleAt;s.startVisibleAt=0,s.onTimeUpdate(A()-l)}}},{threshold:.5}));var u={};function g(e,i){i||(i=document.getElementById(e));var t=0;u[e]&&t++,p[e]&&t++,1===t&&(delete c[e],D.debug("visibility unobserving",e),d.unobserve(i))}this.monitorStop=function(e){var i=e.targetId;clearInterval(p[i].intervalPtr),g(i),delete p[i]},this.monitor=function(i){if(d){var e=i.targetId;if(p[e])console.error(e,"is already monitoring");else{var t=i.timeInView;p[e]={total:0,onTimeUpdate:function(e){this.total+=e,this.total>=t&&(this.total=0,D.log("MONIT timer passed",t),i.cb&&i.cb())}};var n=document.getElementById(e);d.observe(n)}}},this.isVisible=function(t,e){if(c[t])return e(!0);if(!d)return e(!1);var n=document.getElementById(t);if(!n)return e(!1);u[t]=u[t]||[],u[t].push({cb:e,timeoutPtr:setTimeout(function(){g(t,n),D.debug("visibility timeout",t);var e=u[t];if(e){for(var i=0;i<e.length;i++)clearTimeout(e[i].timeoutPtr),e[i].cb(!1);delete u[t]}},30)}),d.observe(n)}},S=o.vpb||{};o.vpb=S=g(S,{init_time:A(),VPB_VERSION:"0581",BUILD_VERSION:"eQB1V",SESSION_ID:T(),aucs:[],eventLog:[],getConfig:function(e){return void 0===S[e]?S.config[e]:S[e]},logEvent:function(e,i){if(i.type=e,i.ts=A(),i.arguments=Array.prototype.slice.call(i.arguments,0),this.onEventLog)try{this.onEventLog(i)}catch(e){D.error(e)}else this.eventLog.push(i)}}),void 0!==S.pr&&(S.VPB_VERSION=S.pr+"0"+S.VPB_VERSION);var D={getUtmFromGoogleCookie:function(){if(!document.cookie)return{};var e=document.cookie.match("__utmz_gtm=([^;]*)");if(e&&e.length){var i=e[1];if(i){for(var t={},n=i.split("|"),d=0;d<n.length;d++){var r=n[d].split("=");t[r[0]]=r[1]}return t}}return{}},getParameterByName:function(e){var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(o.location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},setCookie:function(e,i,t,n){var d=new Date;d.setTime(d.getTime()+60*t*60*1e3),"hourly"===n?d.setMinutes(0,0,0):"daily"===n&&d.setHours(0,0,0,0);var r="expires="+d.toUTCString();document.cookie=e+"="+i+";"+r+";path=/"},getCookie:function(e){var i,t=e+"=";try{i=decodeURIComponent(document.cookie)}catch(e){i=document.cookie}for(var n=i.split(";"),d=0;d<n.length;d++){for(var r=n[d];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},merge:g,getTopDomain:function(){if(location.ancestorOrigins&&location.ancestorOrigins.length)return location.ancestorOrigins[location.ancestorOrigins.length-1];try{return D.getTopWindow(o).location.host}catch(e){return null}},getTopWindow:function(e){var t=function(i){try{return i===i.top?i:i.parent.location.href?t(i.parent):i}catch(e){return i}};return t(e)},copy:function(e){var i,t,n;for(n in i=Array.isArray(e)?[]:{},e)Object.prototype.hasOwnProperty.call(e,n)&&(t=e[n],i[n]=null===t?null:"object"==typeof t?D.copy(t):t);return i},track:function(e){try{var i=[],t=e.host||D.getADomain();for(var n in delete e.host,e)i.push(n+"="+e[n]);var d=D.getParameterByName("utm_source"),r=D.getParameterByName("utm_medium");if(i.push("full_page_url="+encodeURIComponent(D.contentPageUrl())),i.push("adid="+S.SESSION_ID),d&&i.push("utm_source="+d),r&&i.push("utm_medium="+r),i.push("vpbv="+S.VPB_VERSION),S.st&&i.push("tte="+D.timeDiff(S.st)),o.performance&&performance.now){var a=parseInt(performance.now());i.push("lifecycle_tte="+a)}D.xhr({url:"https://"+t+"/adunit/tracking?"+i.join("&"),sendCookie:!0})}catch(e){D.error("Cant send tracking")}},contentPageUrl:function(){if(location.ancestorOrigins&&location.ancestorOrigins.length)return location.ancestorOrigins[location.ancestorOrigins.length-1];var i;try{i=o.parent.location.href}catch(e){i=""}return o.location.href!==i?document.referrer:o.location.href},debug:function(){if(this.vpbIsDev&&o.localStorage&&"3"<=o.localStorage.vpbdebug){var e=Array.prototype.slice.call(arguments,0);e.unshift("VPB: "),console.log.apply(console,e)}},log:function(){if(this.vpbIsDev||o.localStorage&&"1"<=o.localStorage.vpbdebug){var e=Array.prototype.slice.call(arguments,0);o.localStorage&&"2"<=o.localStorage.vpbdebug&&e.unshift(performance.now()),e.unshift("VPB: "),console.log.apply(console,e)}},error:function(){if(this.vpbIsDev||o.localStorage&&"1"<=o.localStorage.vpbdebug){var e=Array.prototype.slice.call(arguments,0);o.localStorage&&"2"<=o.localStorage.vpbdebug&&e.unshift(performance.now()),e.unshift("VPB WARN: "),console.error.apply(console,e)}},xhr:function(e){var i=null;if(o.XMLHttpRequest)i=new XMLHttpRequest;else if(o.ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){D.log("error")}}if(!i)return alert("Giving up :( Cannot create an XMLHTTP instance"),e.onError&&e.onError(),!1;try{i.withCredentials=e.sendCookie||!1}catch(e){}if(e.timeout&&(i.timeout=e.timeout),i.onreadystatechange=function(){4===i.readyState&&(200<=i.status&&i.status<300?e.callback&&e.callback(i.responseText):e.onError&&e.onError(i.status))},i.open(e.method||"GET",e.url||e.uri),e.data&&i.setRequestHeader("content-type","application/json"),e.headers)for(var t in e.headers)i.setRequestHeader(t,e.headers[t]);return i.send(e.data?JSON.stringify(e.data):null),this},getADomain:function(){var e=S.config.WLDomain.split(".").slice(1).join("."),i="hb.";return"adtelligent.com"===e&&(i="ghb."),i+e},getRealScriptHost:function(){return S.getConfig("realHost")||S.config.WLDomain},getMaxRefreshCount:function(){return S.maxRefreshesPerUnit||S.config.maxRefreshesPerUnit||50},getClientId:function(){return S.config.pubId},getSiteId:function(){return S.config.siteId},getDevSuffix:function(){return S.config.isDev?".dev":""},debounce:function(t,n){var d;return function(){var e=this,i=arguments;clearTimeout(d),d=setTimeout(function(){d=null,t.apply(e,i)},n)}},values:function(e){var i=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(e[t]);return i},keys:function(e){var i=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i},each:function(e,i){if(i)for(var t=0;t<e.length;t++)i(e[t])},some:function(e,i){if(!i)return!1;for(var t=0;t<e.length;t++)if(i(e[t]))return!0;return!1},filter:function(e,i){if(!e)return e;for(var t=[],n=0;n<e.length;n++)i(e[n])&&t.push(e[n]);return t},map:function(e,i){if(!e||0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(i(e[n]));return t},findValue:function(e,i){for(var t in e)if(i(e[t],t))return e[t];return null},timeDiff:function(e){return Math.min(Math.abs(A()-e),4294967295)}};D.vpbIsDev="true"===D.getParameterByName("pbjs_debug"),(S.utils=D).log("HBMP version:",S.VPB_VERSION,"Site build hash:",S.BUILD_VERSION);var c={events:[],log:function(e){e.ttems=D.timeDiff(S.init_time),e.slot&&(e.slot={code:e.slot.getAdUnitPath(),divID:e.slot.getSlotElementId(),sizes:U.getDirectSizesNoFluid(e.slot)}),this.events.push(e),this.flush()},flush:D.debounce(function(){D.xhr({uri:"https://"+D.getADomain()+"/dfp/tracking",method:"POST",data:{sessionID:S.SESSION_ID,vpbv:S.VPB_VERSION,siteID:D.getSiteId(),clientID:D.getClientId(),events:c.events.slice(0)}}),c.events=[]},1e3)},E={advertiserLevelDataUrl:"https://ald.adtelligent.com:1339/analyse",_localStorageKey:"vpb-settings",_cache:null,_outstreamCache:null,_prebidTimeout:2e3,refreshHandles:{},vpbRuns:0,init:function(){this.initPrebid(),U.init()},getSecureURI:function(e){var i=E.bidIdsToBid[e.adId].id,t=S.getConfig("secured");return-1<[296039,279934].indexOf(S.config.site_config.ownerId)?null:t&&1===t[i]?"//"+D.getRealScriptHost()+"/prebid/iframe.html?adid="+e.adId+"&ref="+encodeURIComponent(location.origin):null},isSpecialUTM:function(){return-1<D.getParameterByName("utm_source").indexOf("special2511")&&(S.specialUTMMode||S.config.specialUTMMode)},getOOPSizesFromBidders:function(e){for(var i=[],t=0;t<e.bids.length;t++){var n=e.bids[t].params.v_oop_sizes;if(n)for(var d=n.split(","),r=0;r<d.length;r++){var a=d[r].split("x");i.push([parseInt(a[0]),parseInt(a[1])])}}return i},cleanSlotsHBTargeting:function(e){for(var i=0;i<e.length;i++)for(var t=e[i],n=t.getTargetingKeys(),d=0;d<n.length;d++)0!==n[d].indexOf("hb_")&&"is_vmhbmp"!==n[d]||t.clearTargeting(n[d]);D.log("HBMP targeting cleaned")},checkLabel:function(e){if("size"!==e.type)return!1;try{var i=top.innerWidth;if(e.config.min_width<=i&&i<=e.config.max_width)return!0}catch(e){return!1}},checkLabels:function(e){for(var i=e.bids,t=0,n=0;n<i.length;n++){i[n].validLabelIds=[];for(var d=0;d<i[n].labels.length;d++)this.checkLabel(i[n].labels[d])&&i[n].validLabelIds.push(i[n].labels[d].id);if(0!==i[n].labels.length&&0===i[n].validLabelIds.length){var r=e.bids.splice(n,1);D.log("LABEL FILTER remove bidder: ",r,e),n--}else t++}return 0===t&&D.log("LABEL FILTER remove unit coz it has not active bidders: ",e),!!t},checkGeo:function(e){var i=e.bids,t=this.getGeo(),n=0;if(!S.config.geoRequired)return!0;for(var d=0;d<i.length;d++){var r=i[d].geo;if(r.skipGeo)n++;else if("white"===r.type&&r.list[t])n++;else if("block"===r.type&&t&&"unknown"!==t&&!r.list[t])n++;else{var a=e.bids.splice(d,1);D.log("GEO FILTER remove bidder: ",a,e),d--}}return 0===n&&D.log("GEO FILTER remove unit coz it has not active bidders: ",e),!!n},getAvailableBids:function(r){if(!o.vmpbjs)return[];var e=vmpbjs.getBidResponsesForAdUnitCode(r.divId).bids||[];return e?D.filter(e,function(e){var i=E.bidIdsToBid[e.adId],t=i.isMarket,n=i.noR,d=i.useFirstBidInRefresh;return(!1!==r.clientBuyers||!1!==t)&&((!1!==r.marketBuyers||!0!==t)&&(r.isRefreshLogic&&!d&&n?(D.log("filter bid on refresh",i.id),!1):0<e.cpm&&e.responseTimestamp+1e3*e.ttl>A()&&"rendered"!==e.status))}):[]},requestBidViewRates:function(e,t){if(!e||0===e.length)return t({});D.xhr({url:"//"+D.getADomain()+"/vr?bids="+e.join(","),timeout:500,callback:function(e){t(JSON.parse(e))},onError:function(){var i={};D.findValue(e,function(e){i[e]={d:0,h:0}}),t(i)}})},getBuyerIdsForViewRateRequest:function(e,i){for(var t=S.getConfig("minViewRate").buyer,n=S.getConfig("minViewRate").clientBuyers,d={},r=0;r<e.length;r++){var a=this.bidIdsToBid[e[r].adId],o=a.id;i?a.minViewWithDfp&&t[o]&&(d[o]=1):t[o]?d[o]=1:n&&!a.isMarket&&(d[o]=1,t[o]=n)}return{idsToRequest:D.keys(d),requiredRates:t}},pickMaxBid:function(e){for(var i=e[0],t=1;t<e.length;t++)e[t].cpm>i.cpm&&(i=e[t]);return i},getWinningBidByCode:function(t){var i=t.divId,n=t.cb,r=this,d=null,a=r.getAvailableBids(t);if(0===a.length)return n(d);function o(e){if(e&&e.length){var i=r.pickMaxBid(e);d={adUnitId:E.bidIdsToBid[i.requestId].entityId,type:i.mediaType,width:i.width,height:i.height,adId:i.adId,bid:i.cpm,requestSizes:E.bidIdsToBid[i.adId].sizes,refBid:i},"video"===i.mediaType?d.vastUrl=i.vastUrl:d.ad=i.ad,t.omitUsingBid||vmpbjs.markWinningBidAsUsed({adId:i.adId})}return n(d)}S.getConfig("minViewRate")?s.isVisible(i,function(e){if(D.log("MinViewRate: visibility check",i,e),e)o(a);else{var d=r.getBuyerIdsForViewRateRequest(a,t.isDfpAuction);r.requestBidViewRates(d.idsToRequest,function(n){o(a=D.filter(a,function(e){var i=r.bidIdsToBid[e.adId].id,t=!0;return n[i]&&(t=n[i].h>=d.requiredRates[i]),D.debug("MinViewRate: onRefresh",i,t?"allowed":"filtered"),t}))})}}):o(a)},startAuction:D.debounce(function(){var i=this;d.onReady(function(){var e={DFPSlotHooks:D.filter(D.values(U.slots),function(e){return e.slot.gptDisplayCalled}),sendDfpRequest:!0,setHBTargeting:!0};i._startAuction(e)})},30),getNotStrictUnit:function(e,i,t){var n=[];for(var d in e){var r=e[d];r&&-1!==i.toLowerCase().indexOf(r.code.toLowerCase()+"/")&&r.soft_match&&(!r.divId||r.divId&&t.toLowerCase()===r.divId.toLowerCase())&&n.push({uName:d,l:d.length})}return 0!==(n=n.sort(function(e,i){return e.l-i.l})).length&&e[n.pop().uName]},getUnitByHook:function(i){function e(e){return e.entityId===i.hbUnitId}return D.findValue(this.getDisplayUnitsMap(),e)||D.findValue(this.getOutstreamUnitsMap(),e)},findHBMPUnit:function(e,i){var t=this.getOutstreamUnitsMap(),n=this.getDisplayUnitsMap(),d=e.toLowerCase(),r=d+i.toLowerCase();return n[r]||t[r]||n[d]||t[d]||this.getNotStrictUnit(n,e,i)||this.getNotStrictUnit(t,e,i)},checkRefreshInclusion:function(e,i,t,n){for(var d=e.bids,r=0,a=0;a<d.length;a++){var o=E.refreshHandles[e.code];n&&1===d[a].noR||n&&d[a].refreshLimit&&o&&(o.refreshesMade||0)>=d[a].refreshLimit?(D.debug("REFRESH inclusion FILTER remove bidder coz of list: ",d[a]),e.bids.splice(a,1),a--):i&&d[a].isMarket?r++:t&&!d[a].isMarket?r++:(D.debug("REFRESH inclusion FILTER remove bidder: ",d[a]),e.bids.splice(a,1),a--)}return!!r},checkAB:function(e,i){for(var t=e.bids,n=0,d=0;d<t.length;d++){var r=t[d].ABPercent;void 0===r||i<=r?n++:(D.log("AB FILTER remove bidder:","generated:",i,"bidder wants:",r,t[d]),e.bids.splice(d,1),d--)}return!!n},checkWLDomains:function(e){for(var i=e.bids,t=0,n=D.getTopDomain(),d=0;d<i.length;d++){var r=i[d].allow_domains;void 0===r||r.split(",").some(function(e){return-1<n.indexOf(e)})?t++:(D.log("DOMAIN FILTER remove bidder: ",i[d]),e.bids.splice(d,1),d--)}return!!t},checkWLSizes:function(e){for(var i=e.bids,t=0,n=e.sizes.map(function(e){return e[0]+"x"+e[1]}).join(","),d=0;d<i.length;d++){var r=i[d].allow_sizes;void 0===r||r.toLowerCase().split(",").some(function(e){return-1<n.indexOf(e)})?t++:(D.log("SIZE FILTER remove bidder: ",i[d].allow_sizes,i[d]),e.bids.splice(d,1),d--)}return!!t},updateCookieCap:function(e){var i=this.readCookieCap();i.hourly[e]=i.hourly[e]||0,i.hourly[e]++,i.daily[e]=i.daily[e]||0,i.daily[e]++,D.setCookie("hbmp_cap_h",btoa(JSON.stringify(i.hourly)),1,"hourly"),D.setCookie("hbmp_cap_d",btoa(JSON.stringify(i.daily)),24,"daily")},readCookieCap:function(){var e=D.getCookie("hbmp_cap_h"),i=D.getCookie("hbmp_cap_d"),t={hourly:{},daily:{}};return e&&(t.hourly=JSON.parse(atob(e))),i&&(t.daily=JSON.parse(atob(i))),t},addPlacementIDs:function(e){var i="";try{i=R.pubads().getTargeting("category")[0]}catch(e){}for(var t=0;t<e.bids.length;t++)-1<e.bids[t].bidder.indexOf("adtelligent")&&(e.bids[t].params.vpb_placement_id=i?i+":"+e.fullName:e.fullName)},checkCookieCap:function(e,i){for(var t=e.bids,n=0,d=0;d<t.length;d++)if(t[d].cookieCapPerUser){if(!t[d].cookieCapPerUser.hourly&&!t[d].cookieCapPerUser.daily){n++;continue}if(t[d].cookieCapPerUser.hourly>(i.hourly[t[d].bidder]||0)&&t[d].cookieCapPerUser.daily>(i.daily[t[d].bidder]||0))n++;else{var r=e.bids.splice(d,1);D.log("COOKIE FILTER remove bidder: ",r,e),d--}}else n++;return 0===n&&D.log("COOKIE FILTER remove unit coz it has not active bidders: ",e),!!n},checkAdjesty:function(e){if(this.adValidation[e.requestId]&&this.adValidation[e.requestId].adjesty){var i=this.bidIdsToBid[e.requestId];try{D.xhr({url:"https://cproxy.adjesty.com/",method:"POST",data:{version:"adt_v1",customer_id:"1086",token:"Vl5SgMi4kD7HmQDWVWTvB4qjxkgMjM2Z",ad_provider:i.bidder,campaign:{id:i.bidder,creative:{markup:e.ad,adType:"html",src_url:D.contentPageUrl(),slot:i.entityId.toString(),width:e.width,height:e.heigt,winning_bid:JSON.stringify(e)},targeting:{country:[{code:"__COUNTRY__"}],device:[{platform:"win_chrome"}],headers:{"Accept-Language":navigator.language||"",Referer:D.contentPageUrl(),"User-Agent":navigator.userAgent}},demand:{id:i.id.toString(),creative_id:e.creativeId||"",name:i.bidder}}},headers:{"x-api-key":"Vl5SgMi4kD7HmQDWVWTvB4qjxkgMjM2Z","x-ckey":Math.random()+A()+""}})}catch(e){D.error("unable to send adjesty "+e.message)}}},waitingDFPQue:[],initPrebid:function(){var _=this;_.adValidation={},_.bidAdIdsToWinSizes={},_.bidIdsToBid={},_.isRefreshAuction={},C.onReady(function(){B.init(),vmpbjs.onEvent("bidWon",function(e){D.log("Analyse HBPB ad"),D.log("hbrender",e.adId),_.checkAdjesty(e),_.bidIdsToBid[e.adId]=_.bidIdsToBid[e.requestId],_.updateCookieCap(e.bidderCode),S.ald&&D.xhr({url:E.advertiserLevelDataUrl,method:"POST",data:{hbAdId:e.adId,ad:e.ad,bidderCode:e.bidderCode,cpm:e.cpm,divId:e.adUnitCode,adUnitId:_.bidIdsToBid[e.requestId].entityId,buyerId:_.bidIdsToBid[e.requestId].id,siteId:D.getSiteId()}})}),vmpbjs.onEvent("bidRequested",function(e){for(var i=0;i<e.bids.length;i++){var t=e.bids[i],n=t.bidId;t.params&&(_.adValidation[n]={geoedge:S.getConfig("ge_exclude")&&-1<S.getConfig("ge_exclude").indexOf(t.id)?"":t.params.enable_geoedge,adjesty:!!t.params.enable_adjesty}),_.bidIdsToBid[n]=t}}),vmpbjs.onEvent("bidResponse",function(e){_.bidIdsToBid[e.adId]=_.bidIdsToBid[e.requestId],_.bidAdIdsToWinSizes[e.adId]=[e.width,e.height]})}),_._startAuction=function(w){var e=D.filter(D.map(w.DFPSlotHooks,function(e){return e.slot}),function(e){return!!e});S.failLoad?R.cmd.push(function(){R.pubads().refresh(e,{vpb:!0})}):(_.waitingDFPQue=_.waitingDFPQue.concat(e),C.onReady(function(){var e=void 0===w.marketBuyers||w.marketBuyers,i=void 0===w.clientBuyers||w.clientBuyers,o=void 0!==w.isRefreshLogic&&w.isRefreshLogic;_.vpbRuns++,_.getIsEU(),D.log("Auc mapping started");var t,s={},n=[],d=[],r=[],l=[];function a(e){e.length&&(S.UAMFriendly?(S.onTargetingSet&&S.onTargetingSet(e),S.emit("targetingSet",e)):R.cmd.push(function(){R.pubads().refresh(e,{vpb:!0})}))}var p=function(){clearTimeout(t),S.aucs.push(n),w.sendDfpRequest&&(D.log("Slots to refresh after auction",l.length,l),a(l))};S.firstRunDeadLine=S.firstRunDeadLine||S.hbmpDeadline,S.firstRunDeadLine&&1===_.vpbRuns&&(t=setTimeout(function(){D.error("Finalizing in timeout"),p()},S.firstRunDeadLine-A()));for(var c=Math.round(100*Math.random()),u=_.readCookieCap(),g=0;g<w.DFPSlotHooks.length;g++){var m=w.DFPSlotHooks[g],f=m.realId;m.slot&&(m.slot.gptDisplayCalled=!1);var h=m.adUnitPath,b=m.unitRef||_.getUnitByHook(m);if(b){if("video"===b.type){s[f]=b;var I=vmpbjs.getConfig("vmOutstreamConfigs")||{};I[b.outstream_id]=b,vmpbjs.setConfig({vmOutstreamConfigs:I})}if(b&&((b=D.copy(b)).fullName=h,b.code=f),b.bids&&0!==b.bids.length)if(_.checkAB(b,c))if(_.checkRefreshInclusion(b,e,i,o))if(_.checkWLDomains(b))if(_.checkCookieCap(b,u))if(_.checkLabels(b))if(_.checkGeo(b)){var y=null;if(m.sizes)y=m.sizes;else{if(m.oop||m.slot.getOutOfPage())y=b.outstream_id?b.sizes:E.getOOPSizesFromBidders(b);else{if((y=U.getDirectSizes(m.slot))&&1===y.length&&"fluid"===y[0]){D.error("FLuid is not supported refreshing",b.fullName,b.code),r.push(m.slot);continue}y=U.getDirectSizesNoFluid(m.slot);var v=S.getConfig("allow1x1");y&&1===y.length&&1===y[0][0]&&1===y[0][1]&&!v&&(y=E.getOOPSizesFromBidders(b))&&1===y.length&&1===y[0][0]&&1===y[0][1]&&(y=[[300,250]])}if(0===y.length){D.error("Was unable to parse adunit size, skip this unit and DO NOT TRY TO REFRESH IT with GPT",b.fullName,b.code),r.push(m.slot);continue}}m.size=y,b.sizes=y,_.checkWLSizes(b)?(b.mediaTypes.banner&&(b.mediaTypes.banner.sizes=y),b.mediaTypes.video&&(b.mediaTypes.video.playerSize=y[0],b.mediaTypes.video.mimes=["video/mp4"]),_.addPlacementIDs(b),"video"!==b.type&&l.push(m.slot),n.push(b),d.push(b.code)):(D.log("All bids WLSizeFiltered ",b.code,b.fullName),r.push(m.slot))}else r.push(m.slot);else D.log("All bids filtered by labels ",b.code,b.fullName),r.push(m.slot);else D.log("All bids CookieCap filtered ",b.code,b.fullName),r.push(m.slot);else D.log("All bids WLDomainFiltered ",b.code,b.fullName),r.push(m.slot);else D.debug("Refresh filter filtered all bids",b.code,b.fullName),r.push(m.slot);else D.log("All bids ABFiltered ",b.code,b.fullName),r.push(m.slot);else D.log("No bids in ",b.code,b.fullName),r.push(m.slot)}else o?D.log("Seems like adunit disappeared from config, no refresh made"):console.error("This should not happen, slot didnt find corresponding HBMP adunit",m),m.slot&&r.push(m.slot)}if(D.filter(r,function(e){return!!e}).length&&(D.log("Slots to refresh (no vpb matched)",r.length,r),a(r)),0===n.length)return D.log("WARNING: No adUnits to auctionate, FINALIZING"),w.onEnd&&w.onEnd(null,{stop:!0}),void p();var k=T();_.isRefreshAuction[k]=o,D.log("Placements in auction ",k,d),C.onReady(function(){function r(e,i){if(i){D.log("Targeting set",e);var n=vmpbjs.getTargeting(e,[i.refBid]);R.cmd.push(function(){var t=U.findSlotById(e);t&&D.findValue(n[e],function(e,i){t.setTargeting(i,[e])})})}}D.log("Auc started"),vmpbjs.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},enableSendAllBids:!1,bidderTimeout:_._prebidTimeout});var a=0;vmpbjs.requestBids({auctionId:k,timeout:_._prebidTimeout,isRefresh:o,bidsBackHandler:function(d){if(a=D.values(d).length,d&&0<a)for(var i in d){for(var e=d[i],t=0;t<d[i].bids.length;t++){var n=e.bids[t];n.adserverTargeting.hb_site_id=D.getSiteId(),n.adserverTargeting.hb_buyer_id=_.bidIdsToBid[n.requestId].id,n.adserverTargeting.hb_override_id=_.bidIdsToBid[n.requestId].overrideId,n.adserverTargeting.is_vmhbmp=!0,n.adserverTargeting.hb_div_id=n.adUnitCode}!function(i){var t,n;t=i,n=function(e){w.setHBTargeting&&l&&l.length&&r(i,e),0===--a&&(p(),D.log("Auction finished"),w.onEnd&&w.onEnd(d))},_.getWinningBidByCode({isRefreshLogic:o,isDfpAuction:w.setHBTargeting,omitUsingBid:!0,divId:t,cb:function(e){n&&n(e),B.aucWinnerChosen(k,t,e?e.adId:null)}})}(i),i in s&&d[i].bids&&_.getWinningBidByCode({divId:i,cb:function(e){e&&(e=e.refBid,"video"===(s[i].bid=e).mediaType&&vmpbjs.renderAd(document,e.adId,""+s[i].outstream_id))}})}else p(),D.log("Auction finished"),w.onEnd&&w.onEnd(d)},adUnits:n})})}))}},getAllUnits:function(){if(this._cache)return this._cache;if(o.localStorage){var e=JSON.parse(localStorage.getItem(this._localStorageKey)||null);e&&(e.cRevision=e.cRevision||0,e.cRevision>S.config.cRevision?(D.log("Using cached config"),this._cache=this._mapData(e,!0)):D.log("Cached config is invalidated"))}return this._cache||(D.log("Using builtin config"),this._cache=this._mapData(S.config,!0)),this._cache},getOutstreamUnitsMap:function(){return this.getAllUnits().video||{}},getDisplayUnitsMap:function(){return this.getAllUnits().display||{}},getGeo:function(){return this._geo||(this._geo=o.localStorage&&localStorage.getItem("vpb-location"))||"unknown"},getIsEU:function(){return S.isEU||(S.isEU=o.localStorage&&"true"===localStorage.getItem("vpb-isEU"))},getIsUSA:function(){return"US"===this.getGeo()},runSyncByType:function(e){if(D.debug("running warmup"),"image"===e.type)new Image(1,1).src=e.url;else if("iframe"===e.type&&document.body){var i=document.createElement("iframe");i.src=e.url,i.sandbox="allow-scripts allow-same-origin",i.style.display="none",document.body.appendChild(i)}else if("script"===e.type){var t=document.createElement("script");t.src=e.url,(document.body||document.head).appendChild(t)}},runPreSync:function(e){var a=this;e&&D.xhr({url:"https://"+D.getADomain()+e,callback:function(e){e=JSON.parse(e);try{for(var i=0;i<e.length;i++)for(var t=e[i],n=0;n<t.cookieURLs.length;n++){var d=t.cookieURLSTypes[n],r=t.cookieURLs[n];a.runSyncByType({type:d,url:r})}}catch(e){D.error("Error wih pre csync",e)}}})},_mapData:function(l,i){if(!l)return null;var e={},t=l.adunits;l.site_config&&(S=D.merge(S,l.site_config));this._prebidTimeout=l.vmTimeouts._site_;for(var n={},d=0;d<t.length;d++){var r=t[d];if(!r.adUnits)return null;for(var a=0;a<r.adUnits.length;a++){var o="/"+r.networkCode+"/"+r.adUnits[a],s=D.copy(r);if(delete s.adUnits,s.code=o,e[s.type]=e[s.type]||{},e[s.type][o.toLowerCase()+(r.divId||"").toLowerCase()]=s,r.bids)for(var p=0;p<r.bids.length;p++){var c=r.bids[p].bidder;-1==c.indexOf("_mkp")&&(n[c]=1)}}}var u=D.keys(n),g=l.schainMkpBidders||[];return C.onReady(function(){if(307199===S.config.clientId&&vmpbjs.enableAnalytics({provider:"adpartner",options:{}}),l.userIdModuleConfigs&&vmpbjs.setConfig({userSync:{userIds:l.userIdModuleConfigs}}),l.schainclient&&u.length&&vmpbjs.setBidderConfig({bidders:u,config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[l.schainclient]}}}}),l.schainmkp&&g.length&&vmpbjs.setBidderConfig({bidders:g,config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[l.schainmkp]}}}}),l.marketAliases)for(var e in l.marketAliases)Object.prototype.hasOwnProperty.call(l.marketAliases,e)&&vmpbjs.aliasBidder(l.marketAliases[e],e);S.config.networkCurrency&&i&&vmpbjs.setConfig({currency:{adServerCurrency:S.config.networkCurrency,conversionRateFile:"https://player.adtelligent.com/exchange_rates/"+S.config.clientId+"/config.json?cb="+encodeURIComponent(D.contentPageUrl())}}),vmpbjs.setConfig({forceNoGDPR:S.getConfig("forceNoGDPR")}),vmpbjs.setConfig({priceGranularity:l.granularity}),vmpbjs.setConfig({vmTimeouts:l.vmTimeouts}),vmpbjs.setConfig({userSync:{enableOverride:!0,filterSettings:{iframe:{bidders:"*",filter:"include"},image:{bidders:"*",filter:"include"}}}}),l.serverConfig&&vmpbjs.setConfig({s2sConfig:l.serverConfig}),S.bidSizeMatch&&vmpbjs.setConfig({bidsizematch:{ignoreMismatchedSizes:!0}});var n=function(e,i,t){var n=i.bidderCode;if(i.originalCpm=i.originalCpm||i.cpm,i.originalCurrency=i.originalCurrency||i.currency,i.grossBid=e,E.adValidation[i.requestId]&&E.adValidation[i.requestId].geoedge){var d=E.bidIdsToBid[i.requestId],r='<div id="grumi-container"><script type="text/javascript" nonce="!headerNonce!">!function(d,i){var p={wver:"1.1.5",wtype:"dfp",key:"{{geoEdgeToken}}",meta:{adup:"%%ADUNIT%%",dest:"%%DEST_URL_ESC%%",w:"%%WIDTH%%",h:"%%HEIGHT%%",li:"%eaid!",adv:"%eadv!",ord:"%ebuy!",cr:"%ecid!",ygIds:"%_ygIds!",aduid:"%epid!",haduid:"%esid!",isAfc:"%_isAfc!",isAmp:"%_isAmp!",qid:"%qid!",cust_imp:"%cust_imp!",cust1:"%cust1!",cust2:"%cust2!",cust3:"%cust3!",caid:"%caid!",di:"%DEMAND_ID!",dn:"%DEMAND_NAME!",dcid:"%DEMAND_CREATIVE_ID!",pid:"%PUBLISHER_ID!",pn:"%PUBLISHER_NAME!",adElId:"%_adElId!"},sp:"dfp",cfg:{},pbAdId:"%%PATTERN:hb_adid%%",pbAdIdAst:"%%PATTERN:hb_adid_appnexusAst%%",pbBidder:"%%PATTERN:hb_bidder%%",hbPb:"%%PATTERN:hb_pb%%",hbCid:"%_hbcid!",site:"%%SITE%%",pimp:"%_pimp%"};window.grumi=p}();<\/script><template style="display: none;" id="template0"><xmp style="display: none;" id="xmp0">',a="adtelligentMarket"===d.bidder?i.cmpId:d.adapter_id;r=r.replace("{{geoEdgeToken}}",E.adValidation[i.requestId].geoedge).replace("%%WIDTH%%",i.width).replace("%%HEIGHT%%",i.height).replace("%DEMAND_ID!",a).replace("%DEMAND_NAME!",d.bidder).replace("%DEMAND_CREATIVE_ID!",i.creativeId).replace("%PUBLISHER_ID!",D.getSiteId()).replace("%PUBLISHER_NAME!",S.config.domain).replace("%cust_imp!",i.adId),i.ad=r+i.ad+'</xmp></template><script type="text/javascript" nonce="!footerNonce!">!function(t){var o=window.grumi.key,r=window.grumi,e=r&&r.wtype&&"gpt"===r.wtype,n=window.onerror,i=1*new Date,a=navigator.userAgent&&navigator.userAgent.match(/\b(MSIE |Trident.*?rv:|Edge\\/)(\\d+)/),w=e&&!a;function d(){var e=function(){for(var e,n=document.getElementsByTagName("template"),t=n.length-1;0<=t;t--)if("template0"===n[t].id){e=n[t];break}return e}();return e.content?e.content.getElementById?e.content.getElementById("xmp0"):e.content.childNodes[0]:e.getElementsByTagName("xmp")[0]}function u(){var e=d();return e&&e.innerHTML}function c(e,n){n=n||!1,top.postMessage&&top.postMessage({evType:e||"",key:r.key,adup:r.meta.adup,html:window.grumi?window.grumi.tag:"",el:r.meta.adElId,refresh:n},"*")}var m=!1;function g(e,n){if(!m){m=!0;var t="",o=a&&"complete"===document.readyState;window.grumi&&(window.grumi.fsRan=!0,t=window.grumi.tag),o||(t||(t=u()),w&&window.document.open(),window.document.write(t),window.document.close()),((n=n||!1)||o)&&c(e,o)}}function l(e,t){return function(){var n=setTimeout(function(){var e=document.getElementById(i);e&&null===function(e){if(void 0!==e.nextElementSibling)return e.nextElementSibling;for(var n=e.nextSibling;n&&1!==n.nodeType;)n=n.nextSibling;return n}(e)&&t&&t(),clearTimeout(n)},e)}}l(5e3,function(){g()})(),l(2e3,function(){c("slwCl")})(),window.grumi.tag=u(),window.grumi.scriptHost=t,window.grumi.pbGlobal=window.grumi.cfg&&window.grumi.cfg.pbGlobal||"vmpbjs",window.grumi.onerror=n,window.parent&&window.parent.postMessage&&window.parent.postMessage({iw:!0,key:r.key,adup:r.meta.adup,el:r.meta.adElId},"*"),function(){var e=document.createElement("script");e.type="text/javascript",e.src=t+o+"/grumi.js",e.className="rm",e.id=i,w&&(e.async=!0);var n="_"+1*new Date;window[n]=function(){g("netErr",!0)},window.grumi.start=1*new Date;try{window.document.write(e.outerHTML.replace(\'class="rm"\',\'onerror="\'+n+\'();"\'))}catch(e){g()}}(),window.onerror=function(e){"function"==typeof n&&n.apply(this,arguments),l(0,g)(),window.onerror=n}}(("http"===window.location.protocol.substr(0,4)?window.location.protocol:"https:")+"//rumcdn.geoedge.be/");<\/script></div>'}var o=E.bidIdsToBid[i.requestId].id,s=e*(l.bidAdjustment[o]||1);return i.netBid=s,!t&&D.log("Adjusting bid for: "+n,":",e,"->",s,"(",l.bidAdjustment[o],")"),S.config.r[o]&&(s*=(100-S.config.r[o])/100,!t&&D.debug("RevShare bid for: "+n,":",e,"->",s,"(",S.config.r[o],")")),i.clientBid=s,s*=S.getConfig("pubRev"),i.pubBid=s,S.getConfig("adxEnhance")&&(s*=S.getConfig("adxEnhance")),s};l.bidFloorConfig&&vmpbjs.setConfig({bidfloor:{check:function(e){var i=n(e.cpm,D.copy(e),!0),t=l.bidFloorConfig.adunit[E.bidIdsToBid[e.requestId].entityId];return void 0===t||(D.log("BidFloor cpm:",e.cpm,"Resulting:",i,"Floor:",t),t<=i)}}}),l.bidAdjustment&&(vmpbjs.bidderSettings=vmpbjs.bidderSettings||{},vmpbjs.bidderSettings.standard={bidCpmAdjustment:n})}),D.log("config parsed",e),S.cleanConfig=e},getRefreshTime:function(e,i){var t=S.getConfig("customRefreshInterval");return i&&t&&t.buyer&&t.buyer[i.id]?t.buyer[i.id]:S.getConfig("refreshSubsequentInterval")&&1<=e?S.getConfig("refreshSubsequentInterval"):S.getConfig("refreshHBWinnerInterval")},startRefreshSlot:function(n,e){if(S.getConfig("noRefreshUnits")&&-1<S.getConfig("noRefreshUnits").split(",").indexOf(n.adUnitId+""))return;if(S.getConfig("refreshHBWinnerInterval")){var d=this,r=n.divId;n.withDFP&&(n.sendDfpRequest=!0,n.setHBTargeting=!0);var i=d.refreshHandles[r]=d.refreshHandles[r]||{refreshesMade:0};if(clearTimeout(i.timingFnPtr),D.getMaxRefreshCount()<=i.refreshesMade)return D.log(r+"unit finalizing refreshes"),!1;n.withDFP&&S.getConfig("dfpRefreshInView")?s.monitor({targetId:r,timeInView:1e3,cb:function(){return i.timingFnPtr=setTimeout(a,d.getRefreshTime(i.refreshesMade,e)),s.monitorStop({targetId:r})}}):i.timingFnPtr=setTimeout(a,d.getRefreshTime(i.refreshesMade,e))}function a(){var e=D.merge({},n);e=D.merge(e,{isRefreshLogic:!0,onEnd:function(e,i){if(n.withDFP||!e||(D.log("refresh bidwon "+e.adId),h(e,n.divId))){var t=d.refreshHandles[r];if(t.refreshesMade=++t.refreshesMade||1,D.getMaxRefreshCount()>t.refreshesMade&&S.getConfig("refreshHBWinnerInterval")){if(i&&i.stop)return void D.log(r+"unit finalizing refreshes");t.timingFnPtr=setTimeout(a,d.getRefreshTime(t.refreshesMade,e?E.bidIdsToBid[e.adId]:null))}}}}),S.auctionByAdUnitID(e)}}},U={slots:{},hooked:!1,slotsNotMatched:{},googleNative:{},findSlotById:function(e){for(var i=R.pubads().getSlots(),t=0;t<i.length;t++)if(i[t].getSlotElementId()===e)return i[t]},init:function(){this._pushGoogleCmds()},getDirectSizes:function(e){for(var i=[],t=e.getSizes(o.innerWidth,o.innerHeight)||e.getSizes(),n=0;n<t.length;n++){var d=t[n],r=[];if("fluid"===d)i.push(d);else{for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&r.push(d[a]);i.push(r)}}return i},getDirectSizesNoFluid:function(e){return D.filter(this.getDirectSizes(e),function(e){return"fluid"!==e})},lineItemAllowed:function(e){return D.log("check skip line item ",e&&e.lineItemId),!(e&&e.lineItemId&&S.liToSkipRefresh)||-1===S.liToSkipRefresh.indexOf(e.lineItemId)},_pushGoogleCmds:function(){var r=this;function e(){R.pubads().enableSingleRequest()||D.error("Cannot set enableSingleRequest HBMP MAY BE UNSTABLE"),D.log("HOOK GOOGLETAG"),R.pubads().addEventListener("slotOnload",function(e){D.log("GPT slot slotOnload ",e.slot.getAdUnitPath(),e.slot.getSlotElementId()),E.cleanSlotsHBTargeting([e.slot]),e.slot._isRefreshing=!1,c.log({type:16,slot:e.slot,hbUnitId:e.slot.hbUnitId})}),R.pubads().addEventListener("slotRenderEnded",function(i){D.log("GPT slot slotRenderEnded",i.slot.getAdUnitPath(),i.slot.getSlotElementId());var t,e=!1;try{e=!i.isEmpty&&i.slot.getHtml()&&(-1<i.slot.getHtml().indexOf("hb.renderAd(")||-1<i.slot.getHtml().indexOf("ucTag.renderAd(")),t=i.slot.getHtml().match(/hb.renderAd\(document, '(\w+)'.*\)/)[1],E.bidAdIdsToWinSizes[t]&&(i.size=E.bidAdIdsToWinSizes[t])}catch(e){try{t=i.slot.getHtml().match(/hb_adid(_adt)?":\["([^"]*)"\]/)[2],E.bidAdIdsToWinSizes[t]&&(i.size=E.bidAdIdsToWinSizes[t])}catch(e){}}i.slot.hbUnitId&&!e&&B.dfpLose(i.slot.getSlotElementId());var n=R.pubads().getTargeting("only_selfpromo")[0]||i.slot.getTargeting("only_selfpromo")[0];if(S.getConfig("refreshHBWinnerInterval")&&i.slot.hbUnitId&&r.lineItemAllowed(i.slot.getResponseInformation())&&"1"!==n){S.buyersInRefresh||(D.debug("REFRESH there were no buyers specified for refresh, using default"),S.buyersInRefresh=["market","clientbuyer"]);var d=S.getConfig("refreshWhenWinnerIs");d||(D.debug("REFRESH there were no winner conditions specified for refresh, using default"),d=["market","clientbuyer"]),(-1<d.indexOf("any")||i.isEmpty&&-1<d.indexOf("empty")||e&&E.bidIdsToBid[t].isMarket&&-1<d.indexOf("market")||e&&!E.bidIdsToBid[t].isMarket&&-1<d.indexOf("clientbuyer")||!e&&!i.isEmpty&&-1<d.indexOf("dfp"))&&E.startRefreshSlot({withDFP:-1<S.buyersInRefresh.indexOf("dfp"),adUnitId:i.slot.hbUnitId,code:i.slot.getSlotElementId(),sizes:r.getDirectSizesNoFluid(i.slot),divId:i.slot.getSlotElementId(),clientBuyers:-1<S.buyersInRefresh.indexOf("clientbuyer"),marketBuyers:-1<S.buyersInRefresh.indexOf("market")},E.bidIdsToBid[t])}E.cleanSlotsHBTargeting([i.slot]),i.slot._isRefreshing=!1,c.log({type:15,slot:i.slot,hbUnitId:i.slot.hbUnitId,isEmpty:i.isEmpty})}),r.googleNative.defineSlot=R.defineSlot,r.googleNative.defineOutOfPageSlot=R.defineOutOfPageSlot,r.googleNative.display=R.display,r.googleNative.pubadsRefresh=R.pubads().refresh,r.googleNative.disableInitialLoad=R.pubads().disableInitialLoad,r._hookGoogle(),r.hooked=!0}e._startgpt=!0,R.cmd.unshift?R.cmd.unshift(e):R.cmd.push(e)},finalRun:function(){clearTimeout(E.reserveTimeout),E.startAuction(),D.log("debounce auc start")},convertSlots:function(e){try{for(var i=[],t=0;t<e.length;t++){var n=e[t];i.push({code:n.getAdUnitPath(),divId:n.getSlotElementId()})}return i}catch(e){return"Errored conversion"}},_hookGoogle:function(){var p=this;R.pubads().refresh=function(){var e=this,i=arguments[1]||{},t=[arguments[0],arguments[1]];null==t[0]?t[0]="All Slots":t[0]=p.convertSlots(arguments[0]),S.logEvent("HBMP",{event:"PubAds refresh call detected",arguments:t,message:"Call by "+(i.vpb?"HBMP":"Publisher")});var n=!!i.vpb,d=!!i.uamForce,r=arguments[0];if(r||(r=R.pubads().getSlots()),d&&(D.log("UAM force start auc"),p.finalRun()),n)u.onReady(function(){D.log("FORCE REFRESHING from VPB:",r,t[0]),p.googleNative.pubadsRefresh.call(e,r)});else{var a;try{throw new Error}catch(e){(a=e.stack)&&(a=a.split("\n").pop())}for(var o=[],s=[],l=0;l<r.length;l++)D.log("REFRESH, refresh logic for:",r[l].getAdUnitPath()),r[l]._isRefreshing?D.log("REFRESH, throttle enabled for all slots, this slot is refreshing, skipping"):r[l].__vpbSlot&&r[l]._isRefreshing?D.log("REFRESH, throttle anyway for VPB slots, skipping"):(r[l]._isRefreshing=!0,r[l].gptDisplayCalled=!0,r[l].__vpbSlot?(D.log("REFRESH, (native call) marking as displayed, this is VPB slot so making auc"),S.UAMFriendly&&!d?s.push(r[l]):p.finalRun()):d||(D.log("REFRESH, slot  adding to refreshing"),o.push(r[l])),c.log({type:14,slot:r[l],hbUnitId:r[l].hbUnitId}));s.length&&runAds(s,{uamForce:!0}),o.length&&(D.log("REFRESHING:",o),S.logEvent("DFP",{event:"PubAds refresh called",arguments:p.convertSlots(o)}),u.onReady(function(){p.googleNative.pubadsRefresh.call(e,o)}))}},R.pubads().disableInitialLoad=function(){D.log("DISABLE INITIAL LOAD CALLED"),S.supressDisableInitialLoad||(S.loadOnDisplayDisabled=!0),p.googleNative.disableInitialLoad.apply(this,arguments)};var s={};R.display=function(e){var i=!1;if(S.singleDisplayMode){if(null==s[e])return;s[e].__gdisplayed&&(i=!0),s[e].__gdisplayed=!0;var t=[];for(var n in s)s[n].__gdisplayed||(s[n].__gdisplayed=!0,t.push(s[n]));t.length&&u.onReady(function(){S.UAMFriendly?o.runAds(t,{uamForce:!0}):R.pubads().refresh(t)})}if(S.getConfig("throttleDisplay")){var d=p.slotsNotMatched[e]||p.slots[e];if(d){if(d.displayedOnce)return D.log("Throttling multiple display calls for",e);d.displayedOnce=!0}}if(S.logEvent("HBMP",{event:"Slot display called",arguments:arguments}),D.log("DISPLAY, called with id:",e),S.loadOnDisplayDisabled)D.log("DISPLAY, DisableIntialLoad mode is ON so ckipping display");else if(i)D.log("DISPLAY, has to exit");else if(S.UAMFriendly){var r=U.findSlotById(e);r&&o.runAds([r],{uamForce:!0})}else{var a={type:14,slot:p.slotsNotMatched[e]};if(p.slotsNotMatched[e])return D.log("DISPLAY, adding slot to refresh queue"),u.onReady(function(){D.log("DISPLAY, refreshing ",e),p.googleNative.pubadsRefresh.call(R.pubads(),[p.slotsNotMatched[e]])}),c.log(a);if(null==p.slots[e])return D.error("DISPLAY, ID",e,"IS NOT DEFINED OR NOT HOOKED BY VPB: calling native display"),void p.googleNative.display(e);a.slot=p.slots[e].slot,a.hbUnitId=p.slots[e].hbUnitId,c.log(a),a.slot._isRefreshing=!0,D.log("DISPLAY, Adding slot to auction"),p.slots[e].slot.gptDisplayCalled=!0,p.finalRun()}},R.defineSlot=function(e,i,t){D.log("Defining regular slot ",e,t);var n=p.googleNative.defineSlot.apply(this,arguments);if(null!=n){(s[t]=n).setCategoryExclusion("PREPOST");var d=document.getElementById(t),r=t;if(d&&(r=d.getAttribute("data-ad-type")||t),"/TEST/TEST"===e)return n;var a=E.findHBMPUnit(e,r);return c.log({type:13,slot:n,hbUnitId:a.entityId}),p.slotsNotMatched[t]=!1,a?(n.hbUnitId=a.entityId,n.__vpbSlot=!0,p.slots[t]={code:r,slot:n,realId:t,adUnitPath:e,hbUnitId:a.entityId,type:a.type},D.log("HBMP hooks this slot",t,e,n),n):p.slotsNotMatched[t]=n}var o="Problem with define slot: we cannot do defineSlot again. Probably:";s[t]?console.error(o+" defined a slot with an already defined div id"):i&&i.length?console.error(o+" unknown issue"):console.error(o+" defined a slot without sizes")},R.defineOutOfPageSlot=function(e,i){D.log("Defining outofpage slot ",e,i);var t=p.googleNative.defineOutOfPageSlot.apply(this,arguments);s[i]=t;var n=document.getElementById(i),d=i;n&&(d=n.getAttribute("data-ad-type")||i);var r=E.findHBMPUnit(e,d);return c.log({type:13,slot:t,hbUnitId:r.entityId}),p.slotsNotMatched[i]=!1,r&&302837!==S.config.clientId&&279795!==S.config.clientId?(t.hbUnitId=r.entityId,t.__vpbSlot=!0,p.slots[i]={code:d,slot:t,oop:!0,realId:i,adUnitPath:e,hbUnitId:r.entityId,type:r.type},D.log("HBMP hooks this slot",i,e,t),t):p.slotsNotMatched[i]=t}}},n=function(n){this.state="waiting",this.awaits=[],this.init=function(){var e=this;function i(){return!!n()&&(clearInterval(t),e.state="ready",e.process(),!0)}if(!i())var t=setInterval(function(){i()},20);return e},this.process=function(){for(var e=0;e<this.awaits.length;e++)this.awaits[e]();this.awaits=[]},this.forceReady=function(){this.state="ready",this.process()},this.onReady=function(e){"ready"!==this.state?this.awaits.push(e):e&&e()}};S.friendlyAuction=function(e,i){e&&0!==e.length||i(null);for(var t=[],n=0;n<e.length;n++){var d=U.slots[e[n].getSlotElementId()];d&&t.push(d)}E._startAuction({setHBTargeting:!0,DFPSlotHooks:t,onEnd:function(){i&&i(e)}})};S.config={adunits:[{entityId:16804,name:null,type:"display",adUnits:["rbc_AMP_top"],divId:"",networkCode:"67465299",soft_match:!1,bids:[{id:12200,name:"Trafmag",adapter_id:877,type:"display",bidder:"adtelligentMarket",entityId:16804,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pid:16804,aid:533789},minViewWithDfp:0,noR:0,overrideId:2209498,labels:[]},{id:14408,name:"Onetag",adapter_id:1136,type:"display",bidder:"onetag_mkp",entityId:16804,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pubId:"59a18369e249bfb"},minViewWithDfp:0,noR:0,overrideId:2209516,labels:[]},{id:14647,name:"RTB House",adapter_id:1111,type:"display",bidder:"rtbhouse_mkp",entityId:16804,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.02"},minViewWithDfp:0,noR:0,overrideId:2209520,labels:[]},{id:14770,name:"E-Planning",adapter_id:807,type:"display",bidder:"eplanning_mkp",entityId:16804,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{ci:"2e43c"},minViewWithDfp:0,noR:0,overrideId:2209526,labels:[]},{id:13331,name:"33Across",adapter_id:772,type:"display",bidder:"33across_mkp",entityId:16804,geo:{type:"white",list:{US:1,CA:1,AU:1,DE:1,GB:1,FR:1,UK:1,IT:1,NL:1,ES:1,NZ:1,HK:1,SG:1,SE:1,CH:1,MX:1,PR:1,BR:1,AR:1},skipGeo:!1},isMarket:!0,params:{productId:"siab",allow_geos:"US,CA,AU,DE,GB,FR,UK,IT,NL,ES,NZ,HK,SG,SE,CH,MX,PR,BR,AR",siteId:"cfUm_ETkqr6P0XaKlId8sQ"},minViewWithDfp:0,noR:0,overrideId:2213107,labels:[]},{id:8347,name:"152 Media",adapter_id:1462,type:"display",bidder:"onefiftytwomedia_mkp",entityId:16804,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{aid:436894},minViewWithDfp:0,noR:0,allow_domains:"rbc.ua",overrideId:2213449,labels:[]},{id:15172,name:"OpenX",adapter_id:837,type:"display",bidder:"openx_mkp",entityId:16804,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{delDomain:"adtelligent-d.openx.net",unit:"541177132"},minViewWithDfp:0,noR:0,overrideId:2300050,labels:[]}],sizes:[{width:250,height:250},{width:300,height:250},{width:300,height:600},{width:200,height:200},{width:240,height:400},{width:320,height:50}],mediaTypes:{banner:{}}},{entityId:16803,name:null,type:"display",adUnits:["rbc_AMP"],divId:"",networkCode:"67465299",soft_match:!1,bids:[{id:12200,name:"Trafmag",adapter_id:877,type:"display",bidder:"adtelligentMarket",entityId:16803,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pid:16803,aid:533789},minViewWithDfp:0,noR:0,overrideId:2209455,labels:[]},{id:14408,name:"Onetag",adapter_id:1136,type:"display",bidder:"onetag_mkp",entityId:16803,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pubId:"59a18369e249bfb"},minViewWithDfp:0,noR:0,overrideId:2209473,labels:[]},{id:14647,name:"RTB House",adapter_id:1111,type:"display",bidder:"rtbhouse_mkp",entityId:16803,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.02"},minViewWithDfp:0,noR:0,overrideId:2209477,labels:[]},{id:14770,name:"E-Planning",adapter_id:807,type:"display",bidder:"eplanning_mkp",entityId:16803,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{ci:"2e43c"},minViewWithDfp:0,noR:0,overrideId:2209483,labels:[]},{id:13331,name:"33Across",adapter_id:772,type:"display",bidder:"33across_mkp",entityId:16803,geo:{type:"white",list:{US:1,CA:1,AU:1,DE:1,GB:1,FR:1,UK:1,IT:1,NL:1,ES:1,NZ:1,HK:1,SG:1,SE:1,CH:1,MX:1,PR:1,BR:1,AR:1},skipGeo:!1},isMarket:!0,params:{productId:"siab",allow_geos:"US,CA,AU,DE,GB,FR,UK,IT,NL,ES,NZ,HK,SG,SE,CH,MX,PR,BR,AR",siteId:"cfUm_ETkqr6P0XaKlId8sQ"},minViewWithDfp:0,noR:0,overrideId:2213111,labels:[]},{id:8347,name:"152 Media",adapter_id:1462,type:"display",bidder:"onefiftytwomedia_mkp",entityId:16803,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{aid:436894},minViewWithDfp:0,noR:0,allow_domains:"rbc.ua",overrideId:2213754,labels:[]},{id:15172,name:"OpenX",adapter_id:837,type:"display",bidder:"openx_mkp",entityId:16803,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{delDomain:"adtelligent-d.openx.net",unit:"541177132"},minViewWithDfp:0,noR:0,overrideId:2300049,labels:[]}],sizes:[{width:200,height:200},{width:300,height:250},{width:300,height:600},{width:320,height:50},{width:250,height:250}],mediaTypes:{banner:{}}},{entityId:16802,name:null,type:"display",adUnits:["rbc_AMP_center"],divId:"",networkCode:"67465299",soft_match:!1,bids:[{id:14408,name:"Onetag",adapter_id:1136,type:"display",bidder:"onetag_mkp",entityId:16802,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pubId:"59a18369e249bfb"},minViewWithDfp:0,noR:0,overrideId:2209430,labels:[]},{id:14647,name:"RTB House",adapter_id:1111,type:"display",bidder:"rtbhouse_mkp",entityId:16802,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.02"},minViewWithDfp:0,noR:0,overrideId:2209434,labels:[]},{id:14770,name:"E-Planning",adapter_id:807,type:"display",bidder:"eplanning_mkp",entityId:16802,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{ci:"2e43c"},minViewWithDfp:0,noR:0,overrideId:2209440,labels:[]},{id:13331,name:"33Across",adapter_id:772,type:"display",bidder:"33across_mkp",entityId:16802,geo:{type:"white",list:{US:1,CA:1,AU:1,DE:1,GB:1,FR:1,UK:1,IT:1,NL:1,ES:1,NZ:1,HK:1,SG:1,SE:1,CH:1,MX:1,PR:1,BR:1,AR:1},skipGeo:!1},isMarket:!0,params:{productId:"siab",allow_geos:"US,CA,AU,DE,GB,FR,UK,IT,NL,ES,NZ,HK,SG,SE,CH,MX,PR,BR,AR",siteId:"cfUm_ETkqr6P0XaKlId8sQ"},minViewWithDfp:0,noR:0,overrideId:2213115,labels:[]},{id:8347,name:"152 Media",adapter_id:1462,type:"display",bidder:"onefiftytwomedia_mkp",entityId:16802,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{aid:436894},minViewWithDfp:0,noR:0,allow_domains:"rbc.ua",overrideId:2214015,labels:[]},{id:15172,name:"OpenX",adapter_id:837,type:"display",bidder:"openx_mkp",entityId:16802,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{delDomain:"adtelligent-d.openx.net",unit:"541177132"},minViewWithDfp:0,noR:0,overrideId:2300048,labels:[]}],sizes:[{width:250,height:250},{width:300,height:250},{width:300,height:600},{width:160,height:600},{width:200,height:200},{width:355,height:78},{width:320,height:50},{width:240,height:400}],mediaTypes:{banner:{}}},{entityId:16801,name:null,type:"display",adUnits:["RBC_premium_300x250"],divId:"",networkCode:"67465299",soft_match:!1,bids:[{id:12200,name:"Trafmag",adapter_id:877,type:"display",bidder:"adtelligentMarket",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pid:16801,aid:533789},minViewWithDfp:0,noR:0,overrideId:2209369,labels:[]},{id:14408,name:"Onetag",adapter_id:1136,type:"display",bidder:"onetag_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pubId:"59a18369e249bfb"},minViewWithDfp:0,noR:0,overrideId:2209387,labels:[]},{id:14647,name:"RTB House",adapter_id:1111,type:"display",bidder:"rtbhouse_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.02"},minViewWithDfp:0,noR:0,overrideId:2209391,labels:[]},{id:14770,name:"E-Planning",adapter_id:807,type:"display",bidder:"eplanning_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{ci:"2e43c"},minViewWithDfp:0,noR:0,overrideId:2209397,labels:[]},{id:14416,name:"ImproveDigital",adapter_id:1107,type:"display",bidder:"improvedigital_mkp",entityId:16801,geo:{type:"white",list:{UA:1,NO:1,GB:1,US:1,DE:1,CA:1,HU:1,IT:1,CZ:1,RU:1,LV:1,DK:1,SE:1,LT:1,AT:1,FR:1,ES:1,PL:1,CH:1,IE:1,BE:1,NL:1,IL:1},skipGeo:!1},isMarket:!0,params:{allow_geos:"UA,NO,GB,US,DE,CA,HU,IT,CZ,RU,LV,DK,SE,LT,AT,FR,ES,PL,CH,IE,BE,NL,IL",placementId:22322054},minViewWithDfp:0,noR:0,refreshLimit:6,useFirstBidInRefresh:1,allow_sizes:"300x250",overrideId:2211846,labels:[]},{id:8362,name:"MGID",adapter_id:1463,type:"display",bidder:"mgid_mkp",entityId:16801,geo:{type:"white",list:{UA:1},skipGeo:!1},isMarket:!0,params:{accountId:"245",allow_geos:"UA",enable_geoedge:"c70dc69c-0ecc-4746-b0aa-8d65e899fc14",placementId:"374318",cur:"UAH"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2211853,labels:[]},{id:6515,name:"Automatad",adapter_id:1461,type:"display",bidder:"automatadC_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{placementId:19526627},minViewWithDfp:0,noR:0,overrideId:2211857,labels:[]},{id:2905,name:"BetweenX",adapter_id:1144,type:"display",bidder:"btw_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{w:"300",h:"250",s:"3918126",placementId:"rbc300"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2211863,labels:[]},{id:13331,name:"33Across",adapter_id:772,type:"display",bidder:"33across_mkp",entityId:16801,geo:{type:"white",list:{US:1,CA:1,AU:1,DE:1,GB:1,FR:1,UK:1,IT:1,NL:1,ES:1,NZ:1,HK:1,SG:1,SE:1,CH:1,MX:1,PR:1,BR:1,AR:1},skipGeo:!1},isMarket:!0,params:{productId:"siab",allow_geos:"US,CA,AU,DE,GB,FR,UK,IT,NL,ES,NZ,HK,SG,SE,CH,MX,PR,BR,AR",siteId:"cfUm_ETkqr6P0XaKlId8sQ"},minViewWithDfp:0,noR:0,overrideId:2213118,labels:[]},{id:8347,name:"152 Media",adapter_id:1462,type:"display",bidder:"onefiftytwomedia_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{aid:436894},minViewWithDfp:0,noR:0,allow_domains:"rbc.ua",overrideId:2214019,labels:[]},{id:9553,name:"Criteo",adapter_id:803,type:"display",bidder:"criteo_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{zoneId:"1422722"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2215437,labels:[]},{id:14734,name:"LuponMedia",adapter_id:2318,type:"display",bidder:"luponmedia_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{siteId:357,keyId:"rbc300x250"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2222341,labels:[]},{id:15172,name:"OpenX",adapter_id:837,type:"display",bidder:"openx_mkp",entityId:16801,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{delDomain:"adtelligent-d.openx.net",unit:"541177132"},minViewWithDfp:0,noR:0,overrideId:2300047,labels:[]}],sizes:[{width:300,height:250},{width:300,height:600},{width:240,height:400},{width:160,height:600},{width:320,height:50}],mediaTypes:{banner:{}}},{entityId:16731,name:null,type:"display",adUnits:["RBC_premium_multiformat"],divId:"",networkCode:"67465299",soft_match:!1,bids:[{id:12200,name:"Trafmag",adapter_id:877,type:"display",bidder:"adtelligentMarket",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pid:16731,aid:533789},minViewWithDfp:0,noR:0,overrideId:2198635,labels:[]},{id:14408,name:"Onetag",adapter_id:1136,type:"display",bidder:"onetag_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pubId:"59a18369e249bfb"},minViewWithDfp:0,noR:0,overrideId:2198654,labels:[]},{id:14647,name:"RTB House",adapter_id:1111,type:"display",bidder:"rtbhouse_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.02"},minViewWithDfp:0,noR:0,overrideId:2198658,labels:[]},{id:14770,name:"E-Planning",adapter_id:807,type:"display",bidder:"eplanning_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{ci:"2e43c"},minViewWithDfp:0,noR:0,overrideId:2198664,labels:[]},{id:2905,name:"BetweenX",adapter_id:1144,type:"display",bidder:"btw_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{w:"300",h:"250",s:"3918126",placementId:"rbc300"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2200352,labels:[]},{id:2905,name:"BetweenX",adapter_id:1144,type:"display",bidder:"btw_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{w:"300",h:"600",s:"3918131",placementId:"rbc300"},minViewWithDfp:0,noR:0,allow_sizes:"300x600",overrideId:2200353,labels:[]},{id:14416,name:"ImproveDigital",adapter_id:1107,type:"display",bidder:"improvedigital_mkp",entityId:16731,geo:{type:"white",list:{UA:1,NO:1,GB:1,US:1,DE:1,CA:1,HU:1,IT:1,CZ:1,RU:1,LV:1,DK:1,SE:1,LT:1,AT:1,FR:1,ES:1,PL:1,CH:1,IE:1,BE:1,NL:1,IL:1},skipGeo:!1},isMarket:!0,params:{allow_geos:"UA,NO,GB,US,DE,CA,HU,IT,CZ,RU,LV,DK,SE,LT,AT,FR,ES,PL,CH,IE,BE,NL,IL",placementId:22322054},minViewWithDfp:0,noR:0,refreshLimit:6,useFirstBidInRefresh:1,allow_sizes:"300x250",overrideId:2200371,labels:[]},{id:14416,name:"ImproveDigital",adapter_id:1107,type:"display",bidder:"improvedigital_mkp",entityId:16731,geo:{type:"white",list:{UA:1,NO:1,GB:1,US:1,DE:1,CA:1,HU:1,IT:1,CZ:1,RU:1,LV:1,DK:1,SE:1,LT:1,AT:1,FR:1,ES:1,PL:1,CH:1,IE:1,BE:1,NL:1,IL:1},skipGeo:!1},isMarket:!0,params:{allow_geos:"UA,NO,GB,US,DE,CA,HU,IT,CZ,RU,LV,DK,SE,LT,AT,FR,ES,PL,CH,IE,BE,NL,IL",placementId:22322095},minViewWithDfp:0,noR:0,refreshLimit:6,useFirstBidInRefresh:1,allow_sizes:"300x600",overrideId:2200372,labels:[]},{id:8362,name:"MGID",adapter_id:1463,type:"display",bidder:"mgid_mkp",entityId:16731,geo:{type:"white",list:{UA:1},skipGeo:!1},isMarket:!0,params:{accountId:"245",allow_geos:"UA",enable_geoedge:"c70dc69c-0ecc-4746-b0aa-8d65e899fc14",placementId:"374318",cur:"UAH"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2204893,labels:[]},{id:8362,name:"MGID",adapter_id:1463,type:"display",bidder:"mgid_mkp",entityId:16731,geo:{type:"white",list:{UA:1},skipGeo:!1},isMarket:!0,params:{accountId:"245",allow_geos:"UA",enable_geoedge:"c70dc69c-0ecc-4746-b0aa-8d65e899fc14",placementId:"374323",cur:"UAH"},minViewWithDfp:0,noR:0,allow_sizes:"300x600",overrideId:2204894,labels:[]},{id:6515,name:"Automatad",adapter_id:1461,type:"display",bidder:"automatadC_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{placementId:19526627},minViewWithDfp:0,noR:0,overrideId:2208090,labels:[]},{id:13331,name:"33Across",adapter_id:772,type:"display",bidder:"33across_mkp",entityId:16731,geo:{type:"white",list:{US:1,CA:1,AU:1,DE:1,GB:1,FR:1,UK:1,IT:1,NL:1,ES:1,NZ:1,HK:1,SG:1,SE:1,CH:1,MX:1,PR:1,BR:1,AR:1},skipGeo:!1},isMarket:!0,params:{productId:"siab",allow_geos:"US,CA,AU,DE,GB,FR,UK,IT,NL,ES,NZ,HK,SG,SE,CH,MX,PR,BR,AR",siteId:"cfUm_ETkqr6P0XaKlId8sQ"},minViewWithDfp:0,noR:0,overrideId:2213121,labels:[]},{id:8347,name:"152 Media",adapter_id:1462,type:"display",bidder:"onefiftytwomedia_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{aid:436894},minViewWithDfp:0,noR:0,allow_domains:"rbc.ua",overrideId:2214022,labels:[]},{id:9553,name:"Criteo",adapter_id:803,type:"display",bidder:"criteo_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{zoneId:"1422722"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2215435,labels:[]},{id:9553,name:"Criteo",adapter_id:803,type:"display",bidder:"criteo_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{zoneId:"1422725"},minViewWithDfp:0,noR:0,allow_sizes:"300x600",overrideId:2215436,labels:[]},{id:14734,name:"LuponMedia",adapter_id:2318,type:"display",bidder:"luponmedia_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{siteId:357,keyId:"rbc300x600"},minViewWithDfp:0,noR:0,allow_sizes:"300x600",overrideId:2222345,labels:[]},{id:15172,name:"OpenX",adapter_id:837,type:"display",bidder:"openx_mkp",entityId:16731,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{delDomain:"adtelligent-d.openx.net",unit:"541177132"},minViewWithDfp:0,noR:0,overrideId:2299994,labels:[]}],sizes:[{width:300,height:250},{width:300,height:600},{width:250,height:250},{width:240,height:400},{width:200,height:200},{width:320,height:50},{width:160,height:600}],mediaTypes:{banner:{}}},{entityId:16730,name:null,type:"display",adUnits:["RBC_NEWS_OD_MOBILE_300x250"],divId:"",networkCode:"67465299",soft_match:!1,bids:[{id:12200,name:"Trafmag",adapter_id:877,type:"display",bidder:"adtelligentMarket",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pid:16730,aid:533789},minViewWithDfp:0,noR:0,overrideId:2198585,labels:[]},{id:14408,name:"Onetag",adapter_id:1136,type:"display",bidder:"onetag_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pubId:"59a18369e249bfb"},minViewWithDfp:0,noR:0,overrideId:2198604,labels:[]},{id:14647,name:"RTB House",adapter_id:1111,type:"display",bidder:"rtbhouse_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.02"},minViewWithDfp:0,noR:0,overrideId:2198608,labels:[]},{id:14770,name:"E-Planning",adapter_id:807,type:"display",bidder:"eplanning_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{ci:"2e43c"},minViewWithDfp:0,noR:0,overrideId:2198614,labels:[]},{id:2905,name:"BetweenX",adapter_id:1144,type:"display",bidder:"btw_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{w:"300",h:"250",s:"3918126",placementId:"rbc300"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2200328,labels:[]},{id:14416,name:"ImproveDigital",adapter_id:1107,type:"display",bidder:"improvedigital_mkp",entityId:16730,geo:{type:"white",list:{UA:1,NO:1,GB:1,US:1,DE:1,CA:1,HU:1,IT:1,CZ:1,RU:1,LV:1,DK:1,SE:1,LT:1,AT:1,FR:1,ES:1,PL:1,CH:1,IE:1,BE:1,NL:1,IL:1},skipGeo:!1},isMarket:!0,params:{allow_geos:"UA,NO,GB,US,DE,CA,HU,IT,CZ,RU,LV,DK,SE,LT,AT,FR,ES,PL,CH,IE,BE,NL,IL",placementId:22322054},minViewWithDfp:0,noR:0,refreshLimit:6,useFirstBidInRefresh:1,allow_sizes:"300x250",overrideId:2200335,labels:[]},{id:9553,name:"Criteo",adapter_id:803,type:"display",bidder:"criteo_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{zoneId:"1422722"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2204897,labels:[]},{id:8362,name:"MGID",adapter_id:1463,type:"display",bidder:"mgid_mkp",entityId:16730,geo:{type:"white",list:{UA:1},skipGeo:!1},isMarket:!0,params:{accountId:"245",allow_geos:"UA",enable_geoedge:"c70dc69c-0ecc-4746-b0aa-8d65e899fc14",placementId:"374318",cur:"UAH"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2204900,labels:[]},{id:6515,name:"Automatad",adapter_id:1461,type:"display",bidder:"automatadC_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{placementId:19526627},minViewWithDfp:0,noR:0,overrideId:2211854,labels:[]},{id:13331,name:"33Across",adapter_id:772,type:"display",bidder:"33across_mkp",entityId:16730,geo:{type:"white",list:{US:1,CA:1,AU:1,DE:1,GB:1,FR:1,UK:1,IT:1,NL:1,ES:1,NZ:1,HK:1,SG:1,SE:1,CH:1,MX:1,PR:1,BR:1,AR:1},skipGeo:!1},isMarket:!0,params:{productId:"siab",allow_geos:"US,CA,AU,DE,GB,FR,UK,IT,NL,ES,NZ,HK,SG,SE,CH,MX,PR,BR,AR",siteId:"cfUm_ETkqr6P0XaKlId8sQ"},minViewWithDfp:0,noR:0,overrideId:2213167,labels:[]},{id:8347,name:"152 Media",adapter_id:1462,type:"display",bidder:"onefiftytwomedia_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{aid:436894},minViewWithDfp:0,noR:0,allow_domains:"rbc.ua",overrideId:2214026,labels:[]},{id:14734,name:"LuponMedia",adapter_id:2318,type:"display",bidder:"luponmedia_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{siteId:357,keyId:"rbc300x250"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2222337,labels:[]},{id:15172,name:"OpenX",adapter_id:837,type:"display",bidder:"openx_mkp",entityId:16730,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{delDomain:"adtelligent-d.openx.net",unit:"541177132"},minViewWithDfp:0,noR:0,overrideId:2299993,labels:[]}],sizes:[{width:300,height:250},{width:300,height:600},{width:250,height:250},{width:240,height:400},{width:160,height:600},{width:320,height:50},{width:200,height:200}],mediaTypes:{banner:{}}},{entityId:16729,name:null,type:"display",adUnits:["RBC_OD_STYLER_MOBILE_300x250"],divId:"",networkCode:"67465299",soft_match:!1,bids:[{id:12200,name:"Trafmag",adapter_id:877,type:"display",bidder:"adtelligentMarket",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pid:16729,aid:533789},minViewWithDfp:0,noR:0,overrideId:2198533,labels:[]},{id:14408,name:"Onetag",adapter_id:1136,type:"display",bidder:"onetag_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{pubId:"59a18369e249bfb"},minViewWithDfp:0,noR:0,overrideId:2198552,labels:[]},{id:14770,name:"E-Planning",adapter_id:807,type:"display",bidder:"eplanning_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{ci:"2e43c"},minViewWithDfp:0,noR:0,overrideId:2198562,labels:[]},{id:2905,name:"BetweenX",adapter_id:1144,type:"display",bidder:"btw_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{w:"300",h:"250",s:"3918126",placementId:"rbc300"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2200325,labels:[]},{id:14647,name:"RTB House",adapter_id:1111,type:"display",bidder:"rtbhouse_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.02"},minViewWithDfp:0,noR:0,overrideId:2200338,labels:[]},{id:14416,name:"ImproveDigital",adapter_id:1107,type:"display",bidder:"improvedigital_mkp",entityId:16729,geo:{type:"white",list:{UA:1,NO:1,GB:1,US:1,DE:1,CA:1,HU:1,IT:1,CZ:1,RU:1,LV:1,DK:1,SE:1,LT:1,AT:1,FR:1,ES:1,PL:1,CH:1,IE:1,BE:1,NL:1,IL:1},skipGeo:!1},isMarket:!0,params:{allow_geos:"UA,NO,GB,US,DE,CA,HU,IT,CZ,RU,LV,DK,SE,LT,AT,FR,ES,PL,CH,IE,BE,NL,IL",placementId:22322054},minViewWithDfp:0,noR:0,refreshLimit:6,useFirstBidInRefresh:1,allow_sizes:"300x250",overrideId:2200341,labels:[]},{id:9553,name:"Criteo",adapter_id:803,type:"display",bidder:"criteo_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{zoneId:"1422722"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2204903,labels:[]},{id:8362,name:"MGID",adapter_id:1463,type:"display",bidder:"mgid_mkp",entityId:16729,geo:{type:"white",list:{UA:1},skipGeo:!1},isMarket:!0,params:{accountId:"245",allow_geos:"UA",enable_geoedge:"c70dc69c-0ecc-4746-b0aa-8d65e899fc14",placementId:"374318",cur:"UAH"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2204906,labels:[]},{id:6515,name:"Automatad",adapter_id:1461,type:"display",bidder:"automatadC_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{placementId:19526627},minViewWithDfp:0,noR:0,overrideId:2208096,labels:[]},{id:13331,name:"33Across",adapter_id:772,type:"display",bidder:"33across_mkp",entityId:16729,geo:{type:"white",list:{US:1,CA:1,AU:1,DE:1,GB:1,FR:1,UK:1,IT:1,NL:1,ES:1,NZ:1,HK:1,SG:1,SE:1,CH:1,MX:1,PR:1,BR:1,AR:1},skipGeo:!1},isMarket:!0,params:{productId:"siab",allow_geos:"US,CA,AU,DE,GB,FR,UK,IT,NL,ES,NZ,HK,SG,SE,CH,MX,PR,BR,AR",siteId:"cfUm_ETkqr6P0XaKlId8sQ"},minViewWithDfp:0,noR:0,overrideId:2213169,labels:[]},{id:8347,name:"152 Media",adapter_id:1462,type:"display",bidder:"onefiftytwomedia_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{aid:436894},minViewWithDfp:0,noR:0,allow_domains:"rbc.ua",overrideId:2214079,labels:[]},{id:14734,name:"LuponMedia",adapter_id:2318,type:"display",bidder:"luponmedia_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{siteId:357,keyId:"rbc300x250"},minViewWithDfp:0,noR:0,allow_sizes:"300x250",overrideId:2222333,labels:[]},{id:15172,name:"OpenX",adapter_id:837,type:"display",bidder:"openx_mkp",entityId:16729,geo:{type:"block",list:{},skipGeo:!0},isMarket:!0,params:{delDomain:"adtelligent-d.openx.net",unit:"541177132"},minViewWithDfp:0,noR:0,overrideId:2299992,labels:[]}],sizes:[{width:300,height:250},{width:300,height:600},{width:250,height:250},{width:200,height:200},{width:320,height:50}],mediaTypes:{banner:{}}}],site_config:{ald:!1,liToSkipRefresh:[4804105331,5309848935,5311033598],lastLiUpdatedAt:1595501415228,throttleDisplay:"1",refreshWhenWinnerIs:["any"],buyersInRefresh:["market"]},cRevision:1595509379001,clientId:308067,networkCurrency:"UAH",refreshHBWinnerInterval:4e4,enhanceBid:null,bidCeil:null,preCookieSyncPath:"/csyncs?aid1=436894&aid2=533788&aid3=533789",vmTimeouts:{_site_:2e3},bidAdjustment:{2741:1,2813:.85,2905:.8,2970:.7,6515:.85,7633:1,8347:.8,8362:1,9553:.9,10310:.7,12200:1,12741:1,13331:1,13958:1,13969:1,14005:1,14026:.8,14160:.65,14167:1,14398:.8,14399:.8,14400:.8,14401:.8,14407:1,14408:.9,14416:1,14647:1,14658:1,14696:1,14715:.9,14734:.8,14770:.7,14780:.8,15172:1},granularity:{buckets:[{min:0,max:135,increment:1},{min:135,max:269,increment:2},{min:269,max:403,increment:3},{min:403,max:537,increment:7}]},consentSettings:{gdpr:{cmpApi:"iab",timeout:1e3,allowAuctionWithoutConsent:!0},usp:{cmpApi:"iab",timeout:1e3,allowAuctionWithoutConsent:!0}},abInfo:{enabled:0,percent:10},pubRev:1,schainMkpBidders:["improvedigital_mkp"],userIdModuleConfigs:[{name:"criteo"}],minViewRate:{clientBuyers:60,buyer:{2741:15,2813:20,2905:20,2970:20,6515:20,7633:5,8347:25,8362:50,9553:40,12200:60,12741:2,13331:5,13958:20,14005:30,14160:50,14398:20,14399:20,14400:20,14401:20,14408:15,14416:20,14647:20,14658:50,14696:25,14715:30,14734:20,14770:10,15172:30}},customRefreshInterval:{buyer:{8362:5e4,9553:5e4,12200:5e4,12741:3e3,14416:45e3,14647:4e4,14658:5e4,15172:5e4}},secured:{2905:1,6515:1,8347:1,8362:1,9553:0,12200:1,13331:1,14408:1,14416:1,14647:1,14734:1,14770:1,15172:1},WLDomain:"player.adtelligent.com",domain:"rbc.ua",siteId:6889,pubId:308073,marketAliases:{onetag_mkp:"onetag",rtbhouse_mkp:"rtbhouse",eplanning_mkp:"eplanning","33across_mkp":"33across",onefiftytwomedia_mkp:"onefiftytwomedia",openx_mkp:"openx",improvedigital_mkp:"improvedigital",mgid_mkp:"mgid",automatadC_mkp:"automatadC",btw_mkp:"btw",criteo_mkp:"criteo",luponmedia_mkp:"luponmedia"},isDev:!1,bidFloorConfig:{adunit:{16729:.53,16730:.53,16731:.53,16801:.53,16802:.53,16803:.53,16804:.53}},r:{2905:18,6515:18,8347:18,8362:18,9553:25,12200:18,13331:18,14408:18,14416:18,14647:18,14734:18,14770:20,15172:90},geoRequired:!0,syncWarmUps:[]},E.runPreSync(S.config.preCookieSyncPath),S.config.syncWarmUps&&D.each(S.config.syncWarmUps,function(i){try{E.runSyncByType(i)}catch(e){D.error("fail loading warmup",i)}}),E._localStorageKey+=D.getSiteId();var B=new function(){var b=this,t=[],n=D.getUtmFromGoogleCookie(),I={video:1,display:2};b.observer=null,o.IntersectionObserver&&(b.inViewHandlers={},b.observer=new IntersectionObserver(function(e){D.map(e,function(e){if(e.isIntersecting&&.5<=e.intersectionRatio){var i=e.target.id,t=b.inViewHandlers[i];delete b.inViewHandlers[i],t&&(b.observer.unobserve(e.target),t())}})},{root:null,rootMargin:"0px",threshold:.5}));var y={};function v(e){return D.map(e,function(e){return{w:e[0],h:e[1]}})}function e(e){if(t.length){var i={utmMedium:D.getParameterByName("utm_medium")||n.utmcmd,utmSource:D.getParameterByName("utm_source")||n.utmcsr,sessionID:S.SESSION_ID,fullPageURL:D.contentPageUrl(),vpbv:S.VPB_VERSION,events:t};t=[],e&&navigator.sendBeacon?navigator.sendBeacon("https://"+D.getADomain()+"/adunit/multitracking",JSON.stringify(i)):D.xhr({uri:"https://"+D.getADomain()+"/adunit/multitracking",data:i,method:"POST"})}}b.log=function(e){t.push(e),b.send()},o.addEventListener("beforeunload",function(){e(!0)}),o.addEventListener("unload",function(){e(!0)}),b.send=D.debounce(e,1e3),b.refreshingUnits={},b.getSubType=function(e,i){var t=b.refreshingUnits[i];if(t&&t.isRefreshing)return t.refreshI},b.winnerCache={},b.aucWinnerChosen=function(e,i,t){var n=y[e];D.log("winner new stat",i,t);for(var d=D.findValue(n.adUnits,function(e){return e.code===i}),r={event:8,hbDivId:S.sendHbDivId&&d.code,adunitID:d.entityId,adUnitCode:d.fullName,subtype:b.getSubType(e,i),lifecycleTTEms:D.timeDiff(S.init_time),bidders:[],ttems:D.timeDiff(n.timestamp),divID:d.divId,adType:I[d.type],clientID:D.getClientId(),siteID:D.getSiteId()},a=0;a<n.bidsReceived.length;a++){var o=n.bidsReceived[a];if(i===o.adUnitCode){var s=parseInt(o.width),l=parseInt(o.height),p=E.bidIdsToBid[o.requestId],c=o.adId===t;c&&(b.winnerCache[d.code]=o);for(var u={winner:c,bidName:o.bidderCode,id:p.id,bid:parseFloat(o.clientBid||0),pubBid:parseFloat(o.pubBid||0),overrideId:p.overrideId,hbAdId:o.requestId,originalBid:1*o.originalCpm,originalCurrency:o.originalCurrency,grossBid:1*o.grossBid,netBid:1*o.netBid,currency:o.currency,labelIds:p.validLabelIds,pmpDeal:o.dealId,tte:Math.abs(o.timeToRespond),sizes:[{w:s,h:l}],timeout:!1},g=v(p.sizes),m=[],f=0;f<g.length;f++)g[f].w===s&&g[f].h===l||m.push(g[f]);if(m.length){var h={hbAdId:o.requestId,winner:!1,bidName:o.bidderCode,id:p.id,sizes:m,overrideId:p.overrideId,labelIds:p.validLabelIds,timeout:!1};r.bidders.push(h)}r.bidders.push(u)}}b.log(r)},this.onDfpResolved=function(i,e){var t=y[i.auctionId],n=D.findValue(t.adUnits,function(e){return e.code===i.adUnitCode});e&&delete b.winnerCache[n.code];var d=parseInt(i.width),r=parseInt(i.height),a=E.bidIdsToBid[i.requestId],o={event:9,hbDivId:S.sendHbDivId&&n.code,adunitID:n.entityId,adUnitCode:n.fullName,subtype:b.getSubType(null,n.code),lifecycleTTEms:D.timeDiff(S.init_time),bidders:[{winner:e,bidName:i.bidderCode,id:a.id,bid:parseFloat(i.clientBid||0),pubBid:parseFloat(i.pubBid||0),overrideId:a.overrideId,hbAdId:i.requestId,originalBid:1*i.originalCpm,originalCurrency:i.originalCurrency,grossBid:1*i.grossBid,netBid:1*i.netBid,currency:i.currency,labelIds:a.validLabelIds,pmpDeal:i.dealId,tte:Math.abs(i.timeToRespond),sizes:[{w:d,h:r}],timeout:!1}],ttems:D.timeDiff(t.timestamp),divID:n.divId,adType:I[n.type],clientID:D.getClientId(),siteID:D.getSiteId()};if(b.log(o),e&&b.observer){b.inViewHandlers[i.adUnitCode]=function(){(o=D.copy(o)).event=18,o.lifecycleTTEms=D.timeDiff(S.init_time),b.log(o)};var s=document.getElementById(i.adUnitCode);s&&b.observer.observe(s)}},this.dfpLose=function(e){b.winnerCache[e]&&B.onDfpResolved(b.winnerCache[e],!1)},this.init=function(){vmpbjs.onEvent("bidTimeout",function(e){for(var i={},t=0;t<e.length;t++){var n=e[t],d=y[n.auctionId],r=D.findValue(d.adUnits,function(e){return e.code===n.adUnitCode}),a=i[r.code]||{event:8,hbDivId:S.sendHbDivId&&r.code,adunitID:r.entityId,adUnitCode:r.fullName,subtype:b.getSubType(d.auctionId,r.code),lifecycleTTEms:D.timeDiff(S.init_time),bidders:[],divID:r.divId,adType:I[r.type],clientID:D.getClientId(),siteID:D.getSiteId()};i[r.code]=a;var o=E.bidIdsToBid[n.bidId];a.bidders.push({hbAdId:n.bidId,timeout:!0,bidName:n.bidderCode,id:o.id,sizes:v(o.sizes),overrideId:o.overrideId,labelIds:o.validLabelIds})}for(var s in i)b.log(i[s])}),vmpbjs.onEvent("auctionInit",function(e){y[e.auctionId]=e;for(var i={},t=E.isRefreshAuction[e.auctionId],n=0;n<e.adUnits.length;n++){var d=e.adUnits[n].code;b.refreshingUnits[d]=b.refreshingUnits[d]||{refreshI:0},(b.refreshingUnits[d].isRefreshing=t)&&b.refreshingUnits[d].refreshI++}for(var r=0;r<e.bidderRequests.length;r++)for(var a=e.bidderRequests[r],o=0;o<a.bids.length;o++){var s=a.bids[o],l=D.findValue(e.adUnits,function(e){return e.code===s.adUnitCode}),p=i[l.code]||{event:10,hbDivId:S.sendHbDivId&&l.code,adunitID:l.entityId,adUnitCode:l.fullName,subtype:b.getSubType(e.auctionId,l.code,!0),lifecycleTTEms:D.timeDiff(S.init_time),bidders:[],ttems:0,divID:l.divId,adType:I[l.type],clientID:D.getClientId(),siteID:D.getSiteId()};(i[l.code]=p).bidders.push({id:s.id,bidName:s.bidder,hbAdId:s.bidId,overrideId:s.overrideId,labelIds:s.validLabelIds,sizes:v(l.sizes)})}for(var c in i)b.log(i[c])}),vmpbjs.onEvent("bidWon",function(e){b.onDfpResolved(e,!0)}),vmpbjs.onEvent("auctionEnd",function(e){y[e.auctionId]=e})}};S.fastLoad||m("//"+D.getRealScriptHost()+"/prebidlink/ez"+Math.round(A()/864e5)+"/hb_"+D.getClientId()+"_"+D.getSiteId()+D.getDevSuffix()+".js",null,function(){S.failLoad=!0,E.waitingDFPQue.length&&R.cmd.push(function(){R.pubads().refresh(E.waitingDFPQue)})}),D.xhr({uri:"//"+D.getADomain()+"/adthbjs?cb="+encodeURIComponent(D.contentPageUrl()),sendCookie:!0}),S.onLoaderReady&&S.onLoaderReady();var C=new n(function(){return o.vmpbjs&&!!o.vmpbjs.onEvent}),d=new n;!function(e){function t(){e&&e(),e&&(e=function(){})}S.config.geoRequired||t();var i=o;function n(){C.onReady(function(){S.config.consentSettings&&E.getIsEU()&&vmpbjs.setConfig({consentManagement:{gdpr:S.config.consentSettings.gdpr}}),S.config.consentSettings&&E.getIsUSA()&&vmpbjs.setConfig({consentManagement:{usp:S.config.consentSettings.usp}})})}try{var d=i.localStorage;if(d){var r=d.getItem("vpb-location"),a=parseInt(d.getItem("vpb-lastGeoUp"));!r||isNaN(a)||864e5<A()-a?D.xhr({uri:"https://"+D.getADomain()+"/geo/",callback:function(e){try{var i=JSON.parse(e);i.code&&(d.setItem("vpb-location",i.code),d.setItem("vpb-isEU",!!i.isEU),d.setItem("vpb-lastGeoUp",A()))}catch(e){}n(),t()},onError:t}):(n(),t())}else console.error("localStorage unavailable"),n(),t()}catch(e){t(),console.error("Unable to get geo")}}(function(){D.log("GEO ready"),d.forceReady()});var r=S.config.abInfo;if(r&&r.enabled&&r.percent<100&&-1===location.href.indexOf("ignoreAB")){var a=100*Math.random();if(console.log("VMHB AB test enabled",r.percent,"percent allowed; generated:",a),a>r.percent)return console.warn("stopping because AB ",r.percent,a)}D.track({event:11,client_id:D.getClientId(),site_id:D.getSiteId()}),S.ready=!0;var u=new n(function(){return o.googletag&&o.googletag.pubadsReady});C.init(),C.onReady(function(){D.log("HB ready")}),u.init(),u.onReady(function(){D.log("PUBADS ready")}),S.supressDisableInitialLoad=!1;try{-1<location.href.indexOf("supressDisableInitialLoad")&&(S.supressDisableInitialLoad=!0)}catch(e){}o.location&&o.location.href&&-1<o.location.href.indexOf("hbmpvdb")&&f(),S.showConsole=function(){f()},S.getVastUrl=function(r){var a=r.sizes||[[300,250]];S.auctionByAdUnitID({adUnitId:r.hbmpUnitId,sizes:a,onEnd:function(e){var i=null;if(r.useDfp){var t=E.getUnitByHook({hbUnitId:r.hbmpUnitId}),n=a[0];e&&(n=[e.width,e.height]);var d={adUnit:D.merge(t,{sizes:n}),params:{iu:t.code}};e&&e.vastUrl&&(d.bid=e.refBid),i=vmpbjs.adServers.dfp.buildVideoUrl(d)}e&&e.vastUrl&&(i=e.vastUrl),r.resultCallback&&r.resultCallback(i)}})},S.startAuction=S.auctionByAdUnitID=function(t){if(!t.sizes||0===t.sizes.length)return console.error("sizes array required to start this kind of auction e.g: [[300,250],[300,600]]");if(!t.adUnitId){if(!S.getConfig("pickFirstUnit"))return console.error("adUnitId is required to start this kind of auction");t.adUnitId=S.config.adunits[0].entityId}var e=t.adUnitId,n=t.code||"adunit"+e;D.log("requesting auction for ",n);var d=t.withDFP?U.slots[n]:{hbUnitId:e,type:t.type||"display",realId:n,sizes:t.sizes};d.unitRef=E.getUnitByHook(d),E._startAuction({sendDfpRequest:t.sendDfpRequest,setHBTargeting:t.setHBTargeting,DFPSlotHooks:[d],isRefreshLogic:t.isRefreshLogic,clientBuyers:t.clientBuyers,marketBuyers:t.marketBuyers,onEnd:function(e,i){E.getWinningBidByCode({isRefreshLogic:t.isRefreshLogic,clientBuyers:t.clientBuyers,marketBuyers:t.marketBuyers,omitUsingBid:!t.isRefreshLogic&&!t.render,divId:n,cb:function(e){if(t.render){if(e&&!h(e,n))return;E.startRefreshSlot({adUnitId:d.hbUnitId,code:n,sizes:t.sizes,divId:n,clientBuyers:!1,marketBuyers:!0},e?E.bidIdsToBid[e.adId]:null)}S.getConfig("enhanceBid")&&e&&((e=D.copy(e)).bid=e.bid*S.getConfig("enhanceBid")),t.onEnd&&t.onEnd(e,i)}})}})},S.renderAd=function(e,i){var t=i||e.refBid.adUnitCode;h(e,t),e&&E.startRefreshSlot({adUnitId:e.adUnitId,code:e.refBid.adUnitCode,sizes:e.requestSizes,divId:t,clientBuyers:!1,marketBuyers:!0},e)},S.createIframe=function(i,t,e){var n=document.createElement("iframe");n.onload=function(){if(!t)var e=n.contentWindow.document;n.onload=null,i&&i(e),t||(e.body.style.padding="0px",e.body.style.margin="0px",e.body.style.overflow="hidden")},n.src=t||"about:blank";var d=n.style;return d.border="none",d.padding="0px",d.margin="0px",d.overflow="hidden",d.display="block",d.margin="0px auto",e&&(d.width=e.w+"px",d.height=e.h+"px"),t&&n.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),n};var l={};if(S.on=function(e,i){l[e]=l[e]||[],l[e].push(i)},S.emit=function(e,i){if(l[e])for(var t=0;t<l[e].length;t++)try{l[e][t](i)}catch(e){D.error(e)}},S.formatVastBidUrl=function(e){var i=E.bidIdsToBid[e.requestId],t="//"+D.getADomain()+"/wrapper/?vast_uri="+encodeURIComponent(e.vastUrl)+"&pid="+i.entityId+"&w="+e.width+"&h="+e.height+"&full_page_url="+encodeURIComponent(D.contentPageUrl())+"&type=1&ad_type=1&session_id="+S.SESSION_ID+"&vpbv="+S.VPB_VERSION+"&bidder_id="+i.id+"&override_id="+i.overrideId+"&hb_adid="+e.adId+"&origin_cur="+e.originalCurrency+"&origin_bid="+1*e.originalCpm+"&cur="+e.currency+"&gross_bid="+1*e.grossBid+"&net_bid="+1*e.netBid+"&pub_bid="+parseFloat(e.pubBid||0)+"&bid="+parseFloat(e.clientBid||0);return e.vastUrl=t,e},E.init(),S.onMainReady&&S.onMainReady(),function(){function e(){var e=parseInt(A()/6e5);D.xhr({uri:"//"+D.getRealScriptHost()+"/prebidlink/"+e+"/"+D.getClientId()+"_"+D.getSiteId()+".json",callback:function(e){try{localStorage.setItem(E._localStorageKey,e)}catch(e){D.log("unable to write config to localStorage",e.message)}try{var i=JSON.parse(e);i.cRevision>S.config.cRevision&&(E._cache=E._mapData(i))}catch(e){}}})}setTimeout(e,3e3),setInterval(e,6e5)}(),S.cmd=S.cmd||[],S.cmd.push=b,S.cmd.length)for(var p=0;p<S.cmd.length;p++)b(S.cmd[p])}function A(){return t.call(i)}function g(e,i){for(var t in void 0===e&&(e={}),i)e[t]=i[t];return e}function T(){return(A()+Math.random()).toString(36).substr(2,9)}function m(e,i,t){var n=document.createElement("script");e=("http:"===document.location.protocol?"http:":"https:")+e,n.src=e,n.async=!0,n.onload=i,n.onerror=t,(document.body||document.head||document.documentElement).appendChild(n)}function f(){m("//"+D.getRealScriptHost()+"/prebid/vdb.js")}function h(i,e){var t=document.getElementById(e);if(!t)return D.error("Element "+e+" is not present on the page"),!1;if(t&&"IFRAME"===t.nodeName.toUpperCase()){var n=t.contentWindow.document,d="readystatechange";function r(){vmpbjs.renderAd(n,i.adId),n.removeEventListener(d,r)}"loading"===n.readyState?n.addEventListener(d,r):r()}else{var a=S.createIframe(function(e){e&&vmpbjs.renderAd(e,i.adId)},E.getSecureURI(i),{w:i.width,h:i.height});a.id="adunit-"+e,t.innerHTML="",t.appendChild(a)}return!0}function b(e){try{e&&e()}catch(e){D.error("Error executing que function",e)}}}(window,googletag);